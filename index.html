<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utfâ€‘8">
  <title>Balanceâ€‘Chain Vault</title>

  <!-- â–¸Â Security & PWA meta -->
  <meta httpâ€‘equiv="Contentâ€‘Securityâ€‘Policy"
        content="default-src 'self';
                 connect-src 'self' https://*.ethers.org;
                 script-src 'self';
                 style-src  'self' 'unsafe-inline';
                 img-src    'self' data:;">
  <meta name="viewport"        content="width=device-width,initial-scale=1">
  <meta name="theme-color"     content="#15264d">
  <link rel="manifest"         href="manifest.json">
  <link rel="apple-touch-icon" href="/icons/192.png">

  <!-- â–¸Â Extracted stylesheet -->
  <link rel="preload"    href="vault.css" as="style">
  <link rel="stylesheet" href="vault.css"
        integrity="sha384-REPLACE_WITH_SRI_HASH"
        crossorigin="anonymous">
</head>
<body>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Locked / Welcome screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section id="lockedScreen">
  <h1 data-i18n="welcome.title">Balanceâ€‘Chain Vault</h1>
  <button id="openVaultBtn" class="primary" data-i18n="welcome.open">Open</button>
</section>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Vault dashboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section id="vaultUI" style="display:none">

  <header class="vaultâ€‘header">
    <input id="bioibanInput" class="iban" readonly value="">
    <button id="copyBioIBANBtn" title="Copy" data-i18n="common.copy">ğŸ“‹</button>

    <span id="bioLineText"></span>
    <span id="utcTime"></span>
    <button id="rotatePinBtn" class="link" data-i18n="pin.rotate">RotateÂ PIN</button>
  </header>

  <div class="balanceâ€‘box">
    <h2><span id="tvmBalance">Balance: 0Â TVM</span></h2>
    <p id="usdBalance">Equivalent 0Â USD</p>
    <p id="tvmClaimable"></p>

    <label data-i18n="wallet.address">Wallet address</label>
    <input id="userWalletAddress" autocomplete="off">
    <button id="saveWalletBtn"  data-i18n="wallet.save">Save</button>
    <button id="autoConnectWalletBtn" data-i18n="wallet.connect">Autoâ€‘connect</button>
  </div>

  <!-- â–¸Â Catchâ€‘Out -->
  <section class="pane">
    <h3 data-i18n="catchout.title">Send (â€œCatchâ€‘Outâ€)</h3>
    <input id="receiverBioIBAN" placeholder="Receiver Bioâ€‘IBAN">
    <input id="catchOutAmount"  type="number" min="1" placeholder="Amount">
    <button id="catchOutBtn" data-i18n="catchout.send">Export & Copy</button>
  </section>

  <!-- â–¸Â Catchâ€‘In -->
  <section class="pane">
    <h3 data-i18n="catchin.title">Receive (â€œCatchâ€‘Inâ€)</h3>
    <textarea id="catchInBioCatch" rows="4"
              placeholder="Paste the received payload here"></textarea>
    <button id="catchInBtn" data-i18n="catchin.claim">Claim</button>
  </section>

  <!-- â–¸Â Transactions table -->
  <section class="pane">
    <h3 data-i18n="tx.title">Transactions</h3>
    <table>
      <thead>
        <tr><th>Bioâ€‘IBAN</th><th>Bioâ€‘Catch</th><th>Amt</th><th>Date</th><th>Status</th></tr>
      </thead>
      <tbody id="transactionBody"></tbody>
    </table>
    <p id="txEmptyState" data-i18n="tx.empty">No transactions yet.</p>
    <button id="txPrevBtn">â—„</button>
    <button id="txNextBtn">â–º</button>
    <button id="exportBtn" class="link" data-i18n="tx.export">CSV</button>
  </section>

  <!-- â–¸Â Backup banner -->
  <div id="onboardingTip" class="banner">
    <strong data-i18n="backup.tip">Back up your vault!</strong>
    <button id="exportBackupBtn"  data-i18n="backup.enc">EncryptedÂ backup</button>
    <button id="exportFriendlyBtn" data-i18n="backup.raw">FriendlyÂ .vault</button>
    <input  id="importVaultFileInput" type="file" hidden>
  </div>
</section>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Bioâ€‘Catch popup â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="bioCatchPopup" class="modal" role="dialog" aria-modal="true"
     aria-labelledby="bioCatchTitle" tabindex="-1">
  <div class="modal-content">
    <h2 id="bioCatchTitle" data-i18n="catchcode.title">Your Bioâ€‘Catch</h2>
    <p id="bioCatchNumberText" class="code">â€‘â€‘</p>
    <button id="copyBioCatchBtn" data-i18n="common.copy">Copy</button>
    <button id="closeBioCatchPopup" class="modal-close"
            aria-label="Close">âœ•</button>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Onboarding modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="onboardingModal" class="modal" role="dialog" aria-modal="true"
     aria-labelledby="onbTitle" tabindex="-1">
  <div class="modal-content">
    <h2 id="onbTitle" data-i18n="onboard.title">Welcome</h2>
    <p data-i18n="onboard.body">Choose a passphrase to create your vault.</p>
    <button class="modal-close primary" data-i18n="common.ok">OK</button>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Unlock modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="passModal" class="modal" role="dialog" aria-modal="true"
     aria-labelledby="passTitle" tabindex="-1">
  <div class="modal-content">
    <h2 id="passTitle" data-i18n="unlock.title">Unlock Vault</h2>
    <input id="passModalInput" type="password" autocomplete="off"
           placeholder="Passphrase">
    <button id="passModalSaveBtn" class="primary" data-i18n="common.unlock">Unlock</button>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Toast / status bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scripts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<script src="main.js" defer></script>
<script>
/*â€Šâ€”â€Šregister SW once everything else loadedâ€Šâ€”â€Š*/
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () =>
    navigator.serviceWorker.register('/sw.js'));
}
</script>
</body>
</html>
